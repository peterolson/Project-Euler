var bigRat=function(){function e(t,n){return n.equals(0)?t:e(n,t.mod(n))}function t(t,n){return t.times(n).divide(e(t,n))}function n(i,o,u){o=o||bigInt(1),u=u||!1;var a={numerator:i,denominator:o,num:i,denom:o,reduce:function(){var t=e(a.num,a.denom),r=a.num.divide(t),i=a.denom.divide(t);i.lesser(0)&&(r=r.times(-1),i=i.times(-1));if(i.equals(0))throw"Denominator cannot be 0.";return n(r,i,!0)},abs:function(){return a.isPositive()?a:a.negate()},multiply:function(e,t){return e=r(e,t),n(a.num.times(e.num),a.denom.times(e.denom))},times:function(e,t){return a.multiply(e,t)},divide:function(e,t){return e=r(e,t),n(a.num.times(e.denom),a.denom.times(e.num))},over:function(e,t){return a.divide(e,t)},mod:function(e,t){var e=r(e,t);return a.minus(e.times(a.over(e).floor()))},add:function(e,i){e=r(e,i);var s=t(a.denom,e.denom),o=s.divide(a.denom),u=s.divide(e.denom);return o=a.num.times(o),u=e.num.times(u),n(o.add(u),s)},plus:function(e,t){return a.add(e,t)},negate:function(){var e=bigInt.zero.minus(a.num);return n(e,a.denom)},subtract:function(e,t){return e=r(e,t),a.add(e.negate())},minus:function(e,t){return a.subtract(e,t)},isPositive:function(){return a.num.isPositive()},isNegative:function(){return!a.isPositive()},isZero:function(){return a.equals(0,1)},compare:function(e,t){e=r(e,t);if(a.num.equals(e.num)&&a.denom.equals(e.denom))return 0;var n=a.denom.times(e.denom),i=n.greater(0)?1:-1;return a.num.times(e.denom).greater(e.num.times(a.denom))?i:-i},equals:function(e,t){return a.compare(e,t)===0},notEquals:function(e,t){return!a.equals(e,t)},lesser:function(e,t){return a.compare(e,t)<0},lesserOrEquals:function(e,t){return a.compare(e,t)<=0},greater:function(e,t){return a.compare(e,t)>0},greaterOrEquals:function(e,t){return a.compare(e,t)>=0},floor:function(e){var t=a.num.over(a.denom);return e?t:n(t)},ceil:function(e){var t=a.num.divmod(a.denom),r;return r=t.quotient,t.remainder.notEquals(0)&&(r=r.add(1)),e?r:n(r)},round:function(e){return a.add(1,2).floor(e)},toString:function(){var e=a.reduce();return e.num.toString()+"/"+e.denom.toString()},valueOf:function(){return a.num/a.denom},toDecimal:function(e){e=e||10;var t=a.num.divmod(a.denom),n=t.quotient.toString(),r=s(t.remainder,a.denom),i="";while(i.length<=e){var o;for(o=0;o<=10;o++)if(s(i+o,"1"+Array(i.length+2).join("0")).greater(r)){o--;break}i+=o}while(i.slice(-1)==="0")i=i.slice(0,-1);return i===""?n:n+"."+i}};return u?a:a.reduce()}function r(e,t){return s(e,t)}function i(e){var t=e.split("e");if(t.length>2)throw new Error("Invalid input: too many 'e' tokens");if(t.length>1){var r=!0;t[1][0]==="-"&&(t[1]=t[1].slice(1),r=!1),t[1][0]==="+"&&(t[1]=t[1].slice(1));var s=i(t[0]),o=n(bigInt(10).pow(t[1]));return r?s.times(o):s.over(o)}t=e.split(".");if(t.length>2)throw new Error("Invalid input: too many '.' tokens");if(t.length>1){var u=n(bigInt(t[0])),a=t[1].length;while(t[1][0]==="0")t[1]=t[1].slice(1);var f="1"+Array(a+1).join("0"),l=n(bigInt(t[1]),bigInt(f));return u=u.add(l),t[0][0]==="-"&&(u=u.negate()),u}return n(bigInt(e))}function s(e,t){if(!e)return n(bigInt(0));if(t)return n(bigInt(e),bigInt(t));if(typeof e=="object")return e.instanceofBigInt?n(e):e;var r,s,o=e+"",u=o.split("/");if(u.length>2)throw new Error("Invalid input: too many '/' tokens");if(u.length>1){var a=u[0].split("_");if(a.length>2)throw new Error("Invalid input: too many '_' tokens");if(a.length>1){var f=a[0][0]!=="-";return r=bigInt(a[0]).times(u[1]),f?r=r.add(a[1]):r=r.subtract(a[1]),s=bigInt(u[1]),n(r,s).reduce()}return n(bigInt(u[0]),bigInt(u[1]))}return i(o)}return typeof require!="undefined"&&(bigInt=require("big-integer")),s.zero=s(0),s.one=s(1),s.minusOne=s(-1),s}();typeof module!="undefined"&&module.hasOwnProperty("exports")&&(module.exports=bigRat);